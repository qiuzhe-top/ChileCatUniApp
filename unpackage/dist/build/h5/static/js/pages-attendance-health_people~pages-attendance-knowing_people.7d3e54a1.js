(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-attendance-health_people~pages-attendance-knowing_people"],{"05e8":function(e,t,o){"use strict";o.r(t);var i=o("7779"),r=o("d7b1");for(var s in r)"default"!==s&&function(e){o.d(t,e,(function(){return r[e]}))}(s);o("c128");var n,a=o("f0c5"),c=Object(a["a"])(r["default"],i["b"],i["c"],!1,null,"13f671d8",null,!1,i["a"],n);t["default"]=c.exports},"1fe5":function(e,t,o){"use strict";var i;o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return i}));var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"fade"}},[o("v-uni-view",{staticClass:"people-list  u-p-t-100 u-flex u-row-between u-col-center u-flex-wrap"},[o("v-uni-view",{staticClass:"door u-text-center"},[o("v-uni-view",{staticClass:"level active"},[e._v("寝室门")])],1),e._l(e.people_list,(function(t,i){return o("v-uni-view",{key:t.id,staticClass:"box-map u-text-center",on:{click:function(o){arguments[0]=o=e.$handleEvent(o),e.toPeople(t,i)}}},[o("v-uni-view",{staticClass:"level",class:{active:"1"==e.class_status(t.user_id)||e.is_position_mode,error:"2"==e.class_status(t.user_id)}},[e._v(e._s(t.name))])],1)}))],2)],1)},s=[]},"25eb":function(e,t,o){var i=o("23e7"),r=o("c20d");i({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},"294d":function(e,t,o){var i=o("f07d");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=o("4f06").default;r("fd6a117a",i,!0,{sourceMap:!1,shadowMode:!1})},"3fd1":function(e,t,o){"use strict";var i=o("d194"),r=o.n(i);r.a},"51e5":function(e,t,o){"use strict";o.r(t);var i=o("7b07"),r=o("9e75");for(var s in r)"default"!==s&&function(e){o.d(t,e,(function(){return r[e]}))}(s);o("daca");var n,a=o("f0c5"),c=Object(a["a"])(r["default"],i["b"],i["c"],!1,null,"f9fc84c6",null,!1,i["a"],n);t["default"]=c.exports},"62df":function(e,t,o){var i=o("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.user-name[data-v-13f671d8]{display:inline-block;margin-bottom:%?20?%}.input[data-v-13f671d8]{border:#c5c5c5 solid %?1?%}.slot-content[data-v-13f671d8]{font-size:%?28?%;color:#606266}',""]),e.exports=t},"727f":function(e,t,o){var i=o("62df");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=o("4f06").default;r("2c31c839",i,!0,{sourceMap:!1,shadowMode:!1})},"74c9":function(e,t,o){"use strict";(function(e){var i=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(o("83c1")),s={props:{init_people_store:String,rule_codename_store:String,is_continuous:{type:Boolean,default:!1},is_custom_rule:{type:Boolean,default:!0}},emits:["record"],components:{PeopleList:r.default},data:function(){return{form:[],user_obj:{},rule_list:[],show:!1}},created:function(){"00001"===this.rule_codename_store?this.rule_list=this.vuex_rule_00001:"00007"===this.rule_codename_store&&(this.rule_list=this.vuex_rule_00007)},methods:{to_people:function(){var e=this.$refs.people_list_vue.current_user,t=this.$refs.people_list_vue.people_list,o=t[e],i=this.$refs.people_list_vue.get_user_status(o.user_id);this.$props.is_continuous&&"0"==i?(o.status="0",this.show=!0,this.user_obj.reason=""):"0"==i?(this.$data.form.push({user_id:o.user_id,name:o.name,status:"1",reason:"撤销"}),this.$refs.people_list_vue.updata_style(e,"1"),this.user_obj.reason="撤销",this.$emit("record")):o.user_id&&"1"==i&&(o.status="0",o.reason="",this.show=!0),this.user_obj=o},updata_style:function(){var e=this.$refs.people_list_vue.current_user;this.$refs.people_list_vue.updata_style(e,"0")},input_why:function(e){this.user_obj.reason=e.target.value,this.user_obj.reason_is_custom=!0},radioChange:function(e){this.user_obj.reason=e.target.value,this.user_obj.reason_is_custom=!1},init_user_obj:function(){var e=this.$refs.people_list_vue.current_user,t=this.$refs.people_list_vue.people_list,o=t[e];o.reason=void 0},record:function(){this.$emit("record"),this.show=!1},is_onBackPress:function(t){return"navigateBack"===t.from&&(0!=this.form.length&&(e("log",0!=this.form.length,t.from," at pages/attendance/component/people.vue:142"),uni.showModal({title:"注意",content:"未提交记录是否返回",success:function(e){if(e.confirm)uni.navigateBack({delta:1});else if(e.cancel)return!0}}),!0))}}};t.default=s}).call(this,o("0de9")["log"])},7779:function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return i}));var i={uModal:o("8d83").default},r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",{staticClass:"people-box"},[o("PeopleList",{ref:"people_list_vue",attrs:{init_people_store:e.init_people_store},on:{to_people:function(t){arguments[0]=t=e.$handleEvent(t),e.to_people.apply(void 0,arguments)}}}),o("u-modal",{attrs:{"mask-close-able":!0,title:e.user_obj.name,"show-confirm-button":!1},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[o("v-uni-view",{staticClass:"slot-content"},[o("v-uni-radio-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"u-p-30"},[e._l(e.rule_list,(function(t,i){return o("v-uni-label",{key:i,staticClass:"uni-list-cell"},[o("v-uni-view",{staticClass:"u-m-b-20"},[o("v-uni-label",{staticClass:"radio  u-flex u-row-between"},[o("v-uni-view",{},[o("v-uni-radio",{attrs:{value:""+t.id}}),e._v(e._s(t.name)+" - "+e._s(t.score))],1)],1)],1)],1)})),e.is_custom_rule?o("v-uni-label",{staticClass:"uni-list-cell"},[o("v-uni-view",{staticClass:"u-m-b-20 u-flex"},[o("v-uni-radio"),o("v-uni-input",{staticClass:"input u-p-10",attrs:{type:"text",value:"自定义"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.input_why.apply(void 0,arguments)},input:function(t){arguments[0]=t=e.$handleEvent(t),e.input_why.apply(void 0,arguments)}}})],1)],1):e._e()],2)],1),o("v-uni-view",{staticClass:"u-text-center u-p-30 u-m-t-50",staticStyle:{"background-color":"#d9e4f5"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.record()}}},[e._v("确定")])],1)],1)],1)},s=[]},"7b07":function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return i}));var i={uIcon:o("f7a5").default},r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.show?o("v-uni-view",{staticClass:"u-tag",class:[e.disabled?"u-disabled":"","u-size-"+e.size,"u-shape-"+e.shape,"u-mode-"+e.mode+"-"+e.type],style:[e.customStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickTag.apply(void 0,arguments)}}},[e._v(e._s(e.text)),o("v-uni-view",{staticClass:"u-icon-wrap",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)}}},[e.closeable?o("u-icon",{staticClass:"u-close-icon",style:[e.iconStyle],attrs:{size:"22",color:e.closeIconColor,name:"close"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}}):e._e()],1)],1):e._e()},s=[]},"83c1":function(e,t,o){"use strict";o.r(t);var i=o("1fe5"),r=o("e2a5");for(var s in r)"default"!==s&&function(e){o.d(t,e,(function(){return r[e]}))}(s);o("3fd1");var n,a=o("f0c5"),c=Object(a["a"])(r["default"],i["b"],i["c"],!1,null,"04b4d61c",null,!1,i["a"],n);t["default"]=c.exports},"89a2":function(e,t,o){"use strict";o("4160"),o("a9e3"),o("25eb"),o("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{is_position_mode:{type:Boolean,default:!1},init_people_store:{type:String,default:""},request_data:Object},data:function(){return{people_list:[{name:" 空 位 ",user_id:-1},{name:" 空 位 ",user_id:-1},{name:" 空 位 ",user_id:-1},{name:" 空 位 ",user_id:-1},{name:" 空 位 ",user_id:-1},{name:" 空 位 ",user_id:-1}],current_user:{},b:"",f:"",type:""}},mounted:function(){"cache"==this.$props.init_people_store?this.initCacheBed():this.initBed(),this.getUser(),this.current_floor_information()},methods:{class_status:function(e){if(-1==e)return"0";var t=this.get_user_status(e);return"1"!=t&&"0"!=t&&(t="2"),t},get_user_status:function(e){return-1==e?"0":this.vuex_call[this.type][this.b+this.f][this.r][e]},current_floor_information:function(){this.b=this.vuex_floor_now.id+"#",this.f=this.vuex_layer_now.id+"",this.r=this.vuex_room_now.substr(3,4),this.type=this.vuex_task.type},toPeople:function(e,t){this.current_user=t,this.$emit("to_people")},getUser:function(){return this.current_user},updata_style:function(e,t){var o=this.people_list[e]["user_id"],i="."+this.type,r="."+this.b+this.f,s="."+this.r,n="."+o;this.$store.dispatch("save",["vuex_call"+i+r+s+n,t])},organize_student_information:function(e){var t=this,o=e.length;o<6&&(o=6);var i=" 空 位 ";this.people_list=[];for(var r=0;r<o;r++){var s=r+1;this.people_list.push({name:i,user_id:-1,bed_position:s})}var n=[];e.forEach((function(e){var i={};i["user_id"]=e.id,i["name"]=e.name,i["status"]=e.status,i["reason_is_custom"]=!1,i["is_open"]=!e.status,i["bed_position"]=e.bed_position;var r=Number.parseInt(e.bed_position);r&&r<=o?t.people_list[r-1]=t.$u.deepClone(i):n.push(t.$u.deepClone(i))}));for(var a=0;a<this.people_list.length;a++)if(this.people_list[a].name==i&&0!=n.length){var c=n.shift();c.bed_position=a+1,this.people_list[a]=c}},initCacheBed:function(){var e=this.vuex_room_user_info[this.vuex_room_now],t=[];for(var o in e)t.push(e[o]);this.organize_student_information(t)},initBed:function(){var e=this;this.$store.dispatch(this.$props.init_people_store,this.$props.request_data).then((function(t){var o=t.data;e.organize_student_information(o)}))}}};t.default=i},"89a5":function(e,t,o){"use strict";o("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"u-tag",props:{type:{type:String,default:"primary"},disabled:{type:[Boolean,String],default:!1},size:{type:String,default:"default"},shape:{type:String,default:"square"},text:{type:[String,Number],default:""},bgColor:{type:String,default:""},color:{type:String,default:""},borderColor:{type:String,default:""},closeColor:{type:String,default:""},index:{type:[Number,String],default:""},mode:{type:String,default:"light"},closeable:{type:Boolean,default:!1},show:{type:Boolean,default:!0}},data:function(){return{}},computed:{customStyle:function(){var e={};return this.color&&(e.color=this.color),this.bgColor&&(e.backgroundColor=this.bgColor),"plain"==this.mode&&this.color&&!this.borderColor?e.borderColor=this.color:e.borderColor=this.borderColor,e},iconStyle:function(){if(this.closeable){var e={};return"mini"==this.size?e.fontSize="20rpx":e.fontSize="22rpx","plain"==this.mode||"light"==this.mode?e.color=this.type:"dark"==this.mode&&(e.color="#ffffff"),this.closeColor&&(e.color=this.closeColor),e}},closeIconColor:function(){return this.closeColor?this.closeColor:this.color?this.color:"dark"==this.mode?"#ffffff":this.type}},methods:{clickTag:function(){this.disabled||this.$emit("click",this.index)},close:function(){this.$emit("close",this.index)}}};t.default=i},"9e75":function(e,t,o){"use strict";o.r(t);var i=o("89a5"),r=o.n(i);for(var s in i)"default"!==s&&function(e){o.d(t,e,(function(){return i[e]}))}(s);t["default"]=r.a},b03e:function(e,t,o){var i=o("24fb");t=i(!1),t.push([e.i,".box-map[data-v-04b4d61c]{width:50%}.error[data-v-04b4d61c]{background-color:#ff557f;color:#f1f1f1}.active[data-v-04b4d61c]{background-color:#04b8fc;color:#f1f1f1}.level[data-v-04b4d61c]{min-width:%?234?%;padding:%?25?% %?60?%;margin-bottom:%?60?%;margin-right:%?15?%;display:inline-block;box-shadow:#c3c3c3 1px 1px 10px}.door[data-v-04b4d61c]{width:100%}",""]),e.exports=t},c128:function(e,t,o){"use strict";var i=o("727f"),r=o.n(i);r.a},d194:function(e,t,o){var i=o("b03e");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=o("4f06").default;r("5311afa5",i,!0,{sourceMap:!1,shadowMode:!1})},d7b1:function(e,t,o){"use strict";o.r(t);var i=o("74c9"),r=o.n(i);for(var s in i)"default"!==s&&function(e){o.d(t,e,(function(){return i[e]}))}(s);t["default"]=r.a},daca:function(e,t,o){"use strict";var i=o("294d"),r=o.n(i);r.a},e2a5:function(e,t,o){"use strict";o.r(t);var i=o("89a2"),r=o.n(i);for(var s in i)"default"!==s&&function(e){o.d(t,e,(function(){return i[e]}))}(s);t["default"]=r.a},f07d:function(e,t,o){var i=o("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-tag[data-v-f9fc84c6]{box-sizing:border-box;align-items:center;border-radius:%?6?%;display:inline-block;line-height:1}.u-size-default[data-v-f9fc84c6]{font-size:%?22?%;padding:%?12?% %?22?%}.u-size-mini[data-v-f9fc84c6]{font-size:%?20?%;padding:%?6?% %?12?%}.u-mode-light-primary[data-v-f9fc84c6]{background-color:#ecf5ff;color:#2979ff;border:1px solid #a0cfff}.u-mode-light-success[data-v-f9fc84c6]{background-color:#dbf1e1;color:#19be6b;border:1px solid #71d5a1}.u-mode-light-error[data-v-f9fc84c6]{background-color:#fef0f0;color:#fa3534;border:1px solid #fab6b6}.u-mode-light-warning[data-v-f9fc84c6]{background-color:#fdf6ec;color:#f90;border:1px solid #fcbd71}.u-mode-light-info[data-v-f9fc84c6]{background-color:#f4f4f5;color:#909399;border:1px solid #c8c9cc}.u-mode-dark-primary[data-v-f9fc84c6]{background-color:#2979ff;color:#fff}.u-mode-dark-success[data-v-f9fc84c6]{background-color:#19be6b;color:#fff}.u-mode-dark-error[data-v-f9fc84c6]{background-color:#fa3534;color:#fff}.u-mode-dark-warning[data-v-f9fc84c6]{background-color:#f90;color:#fff}.u-mode-dark-info[data-v-f9fc84c6]{background-color:#909399;color:#fff}.u-mode-plain-primary[data-v-f9fc84c6]{background-color:#fff;color:#2979ff;border:1px solid #2979ff}.u-mode-plain-success[data-v-f9fc84c6]{background-color:#fff;color:#19be6b;border:1px solid #19be6b}.u-mode-plain-error[data-v-f9fc84c6]{background-color:#fff;color:#fa3534;border:1px solid #fa3534}.u-mode-plain-warning[data-v-f9fc84c6]{background-color:#fff;color:#f90;border:1px solid #f90}.u-mode-plain-info[data-v-f9fc84c6]{background-color:#fff;color:#909399;border:1px solid #909399}.u-disabled[data-v-f9fc84c6]{opacity:.55}.u-shape-circle[data-v-f9fc84c6]{border-radius:%?100?%}.u-shape-circleRight[data-v-f9fc84c6]{border-radius:0 %?100?% %?100?% 0}.u-shape-circleLeft[data-v-f9fc84c6]{border-radius:%?100?% 0 0 %?100?%}.u-close-icon[data-v-f9fc84c6]{margin-left:%?14?%;font-size:%?22?%;color:#19be6b}.u-icon-wrap[data-v-f9fc84c6]{display:inline-flex;-webkit-transform:scale(.86);transform:scale(.86)}',""]),e.exports=t}}]);